@inherits Umbraco.Web.Mvc.UmbracoViewPage<ContentModels.Test>
@using ContentModels = Umbraco.Web.PublishedModels;
@{
	Layout = "Master.cshtml";
}

<br> <br> <br><br> <br> <br><br> <br> <br><br> <br> <br>

<div class="content">
    
    <div id="namePlaceholder" style="font-size: 4rem">
        
    </div>
</div>

<script type="text/javascript">
    const namePlaceholder = document.getElementById('namePlaceholder')


    const refresh = () => {
        var request = new XMLHttpRequest()
        request.open('GET', 'https://umbraco.local/api/getname', true)
        request.onload = function () {
            var data = JSON.parse(this.response)
            if (request.status >= 200 && request.status < 400) {
                namePlaceholder.innerHTML = data
            }
        }
        request.send()
    }

    refresh();
    const interval = setInterval(function () {
        refresh();
    }, 1000);

</script>